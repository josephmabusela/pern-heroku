{"version":3,"sources":["components/InputTodo.js","components/EditTodo.js","components/ListTodo.js","App.js","index.js"],"names":["InputTodo","_useState","useState","_useState2","Object","slicedToArray","description","setDescription","onSubmitForm","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","e","body","wrap","_context","prev","next","preventDefault","fetch","method","headers","Content-Type","JSON","stringify","sent","window","location","t0","console","error","message","stop","_x","apply","this","arguments","react_default","a","createElement","react","className","onSubmit","type","value","onChange","target","EditTodo","todo","updateDescription","_ref2","EditTodo_regeneratorRuntime","concat","todo_id","data-toggle","data-target","id","onClick","data-dismiss","ListTodos","todos","setTodos","deleteTodo","ListTodo_regeneratorRuntime","filter","getTodos","_callee2","response","jsonData","_context2","json","useEffect","log","map","key","components_EditTodo","App","components_InputTodo","ListTodo","ReactDOM","render","src_App","document","getElementById"],"mappings":"29MAEA,IAyCeA,EAzCG,WAAM,IAAAC,EACgBC,mBAAS,IADzBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACfK,EADeH,EAAA,GACFI,EADEJ,EAAA,GAGhBK,EAAY,eAAAC,EAAAL,OAAAM,EAAA,EAAAN,CAAAO,IAAAC,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAJ,IAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACnBL,EAAEM,iBADiBH,EAAAC,KAAA,EAGXH,EAAO,CAAET,eAHEW,EAAAE,KAAA,EAUME,MAAM,SAAU,CACrCC,OAAQ,OACRC,QAAS,CAAEC,eAAgB,oBAC3BT,KAAMU,KAAKC,UAAUX,KAbN,OAAAE,EAAAU,KAgBjBC,OAAOC,SAAW,IAhBDZ,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAa,GAAAb,EAAA,SAkBjBc,QAAQC,MAAMf,EAAAa,GAAIG,SAlBD,yBAAAhB,EAAAiB,SAAArB,EAAA,iBAAH,gBAAAsB,GAAA,OAAA1B,EAAA2B,MAAAC,KAAAC,YAAA,GAsBlB,OACEC,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAAA,MAAIE,UAAU,oBAAd,kBACAJ,EAAAC,EAAAC,cAAA,QAAME,UAAU,cAAcC,SAAUpC,GACtC+B,EAAAC,EAAAC,cAAA,SACEI,KAAK,OACLF,UAAU,eACVG,MAAOxC,EACPyC,SAAU,SAAAjC,GAAC,OAAIP,EAAeO,EAAEkC,OAAOF,UAEzCP,EAAAC,EAAAC,cAAA,UAAQE,UAAU,mBAAlB,2xMCnCR,IA8FeM,EA9FE,SAAAxC,GAAc,IAAXyC,EAAWzC,EAAXyC,KAAWjD,EACSC,mBAASgD,EAAK5C,aADvBH,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACtBK,EADsBH,EAAA,GACTI,EADSJ,EAAA,GAKvBgD,EAAiB,eAAAC,EAAAhD,OAAAM,EAAA,EAAAN,CAAAiD,IAAAzC,KAAG,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAsC,IAAArC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACxBL,EAAEM,iBADsBH,EAAAC,KAAA,EAGhBH,EAAO,CAAET,eAHOW,EAAAE,KAAA,EAOCE,MAAK,UAAAiC,OAChBJ,EAAKK,SACf,CACEjC,OAAQ,MACRC,QAAS,CAAEC,eAAgB,oBAC3BT,KAAMU,KAAKC,UAAUX,KAZH,OAAAE,EAAAU,KAgBtBC,OAAOC,SAAW,IAhBIZ,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAa,GAAAb,EAAA,SAkBtBc,QAAQC,MAAMf,EAAAa,GAAIG,SAlBI,yBAAAhB,EAAAiB,SAAArB,EAAA,iBAAH,gBAAAsB,GAAA,OAAAiB,EAAAhB,MAAAC,KAAAC,YAAA,GAsBvB,OACEC,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAAA,UACEI,KAAK,SACLF,UAAU,kBACVa,cAAY,QACZC,cAAA,MAAAH,OAAmBJ,EAAKK,UAJ1B,QAYAhB,EAAAC,EAAAC,cAAA,OACEE,UAAU,QACVe,GAAE,KAAAJ,OAAOJ,EAAKK,SACdI,QAAS,kBAAMpD,EAAe2C,EAAK5C,eAEnCiC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,iBACbJ,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACbJ,EAAAC,EAAAC,cAAA,MAAIE,UAAU,eAAd,aACAJ,EAAAC,EAAAC,cAAA,UACEI,KAAK,SACLF,UAAU,QACViB,eAAa,QACbD,QAAS,kBAAMpD,EAAe2C,EAAK5C,eAJrC,SAUFiC,EAAAC,EAAAC,cAAA,OAAKE,UAAU,cACbJ,EAAAC,EAAAC,cAAA,SACEI,KAAK,OACLF,UAAU,eACVG,MAAOxC,EACPyC,SAAU,SAAAjC,GAAC,OAAIP,EAAeO,EAAEkC,OAAOF,WAI3CP,EAAAC,EAAAC,cAAA,OAAKE,UAAU,gBACbJ,EAAAC,EAAAC,cAAA,UACEI,KAAK,SACLF,UAAU,kBACViB,eAAa,QACbD,QAAS,SAAA7C,GAAC,OAAIqC,EAAkBrC,KAJlC,QAQAyB,EAAAC,EAAAC,cAAA,UACEI,KAAK,SACLF,UAAU,iBACViB,eAAa,QACbD,QAAS,kBAAMpD,EAAe2C,EAAK5C,eAJrC,gyMC5Ed,IAyEeuD,EAzEG,WAAM,IAAA5D,EACIC,mBAAS,IADbC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACf6D,EADe3D,EAAA,GACR4D,EADQ5D,EAAA,GAKhB6D,EAAU,eAAAvD,EAAAL,OAAAM,EAAA,EAAAN,CAAA6D,IAAArD,KAAG,SAAAC,EAAM6C,GAAN,OAAAO,IAAAjD,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEUE,MAAK,UAAAiC,OAAWI,GAAM,CAC7CpC,OAAQ,WAHK,OAAAL,EAAAU,KAMfoC,EAASD,EAAMI,OAAO,SAAAhB,GAAI,OAAIA,EAAKK,UAAYG,KANhCzC,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAa,GAAAb,EAAA,SAQfc,QAAQC,MAAMf,EAAAa,GAAIG,SARH,yBAAAhB,EAAAiB,SAAArB,EAAA,iBAAH,gBAAAsB,GAAA,OAAA1B,EAAA2B,MAAAC,KAAAC,YAAA,GAYV6B,EAAQ,eAAAf,EAAAhD,OAAAM,EAAA,EAAAN,CAAA6D,IAAArD,KAAG,SAAAwD,IAAA,IAAAC,EAAAC,EAAA,OAAAL,IAAAjD,KAAA,SAAAuD,GAAA,cAAAA,EAAArD,KAAAqD,EAAApD,MAAA,cAAAoD,EAAArD,KAAA,EAAAqD,EAAApD,KAAA,EAEUE,MAAM,UAFhB,cAEPgD,EAFOE,EAAA5C,KAAA4C,EAAApD,KAAA,EAGUkD,EAASG,OAHnB,OAGPF,EAHOC,EAAA5C,KAKboC,EAASO,GALIC,EAAApD,KAAA,iBAAAoD,EAAArD,KAAA,GAAAqD,EAAAzC,GAAAyC,EAAA,SAObxC,QAAQC,MAAMuC,EAAAzC,GAAIG,SAPL,yBAAAsC,EAAArC,SAAAkC,EAAA,kBAAH,yBAAAhB,EAAAhB,MAAAC,KAAAC,YAAA,GAiBd,OANAmC,oBAAU,WACRN,KACC,IAEHpC,QAAQ2C,IAAIZ,GAGVvB,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACG,IACDH,EAAAC,EAAAC,cAAA,SAAOE,UAAU,0BACfJ,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,kBACAF,EAAAC,EAAAC,cAAA,sBAGJF,EAAAC,EAAAC,cAAA,aAMGqB,EAAMa,IAAI,SAAAzB,GAAI,OACbX,EAAAC,EAAAC,cAAA,MAAImC,IAAK1B,EAAKK,SACZhB,EAAAC,EAAAC,cAAA,UAAKS,EAAK5C,aACViC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACoC,EAAD,CAAU3B,KAAMA,KAElBX,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEE,UAAU,iBACVgB,QAAS,kBAAMK,EAAWd,EAAKK,WAFjC,kBC3CDuB,MAXf,WACE,OACEvC,EAAAC,EAAAC,cAACC,EAAA,SAAD,KACEH,EAAAC,EAAAC,cAAA,OAAKE,UAAU,aACbJ,EAAAC,EAAAC,cAACsC,EAAD,MACAxC,EAAAC,EAAAC,cAACuC,EAAD,SCPRC,IAASC,OACL3C,EAAAC,EAAAC,cAAC0C,EAAD,MACFC,SAASC,eAAe","file":"static/js/main.e7b34138.chunk.js","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\n\r\nconst InputTodo = () => {\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const onSubmitForm = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { description };\r\n\r\n      //proxy is only used in development so it will be ignored in production\r\n      // so if there is no http://localhost:5000 then by default it is going to use heroku domain\r\n      // this heroku app is just our server serving the build static content and also holding the restful api\r\n       \r\n      // \r\n      const response = await fetch(\"/todos\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(body)\r\n      });\r\n\r\n      window.location = \"/\";\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <h1 className=\"text-center mt-5\">Pern Todo List</h1>\r\n      <form className=\"d-flex mt-5\" onSubmit={onSubmitForm}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          value={description}\r\n          onChange={e => setDescription(e.target.value)}\r\n        />\r\n        <button className=\"btn btn-success\">Add</button>\r\n      </form>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default InputTodo;","import React, { Fragment, useState } from \"react\";\r\n\r\nconst EditTodo = ({ todo }) => {\r\n  const [description, setDescription] = useState(todo.description);\r\n\r\n  //edit description function\r\n\r\n  const updateDescription = async e => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { description };\r\n\r\n      // proxy\r\n\r\n      const response = await fetch(\r\n        `/todos/${todo.todo_id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(body)\r\n        }\r\n      );\r\n\r\n      window.location = \"/\";\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-warning\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${todo.todo_id}`}\r\n      >\r\n        Edit\r\n      </button>\r\n\r\n      {/* \r\n        id = id10\r\n      */}\r\n      <div\r\n        className=\"modal\"\r\n        id={`id${todo.todo_id}`}\r\n        onClick={() => setDescription(todo.description)}\r\n      >\r\n        <div className=\"modal-dialog\">\r\n          <div className=\"modal-content\">\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">Edit Todo</h4>\r\n              <button\r\n                type=\"button\"\r\n                className=\"close\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"modal-body\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={description}\r\n                onChange={e => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-warning\"\r\n                data-dismiss=\"modal\"\r\n                onClick={e => updateDescription(e)}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EditTodo;\r\n","import React, { Fragment, useEffect, useState } from \"react\";\r\n\r\nimport EditTodo from \"./EditTodo\";\r\n\r\nconst ListTodos = () => {\r\n  const [todos, setTodos] = useState([]);\r\n\r\n  //delete todo function\r\n\r\n  const deleteTodo = async id => {\r\n    try {\r\n      const deleteTodo = await fetch(`/todos/${id}`, {\r\n        method: \"DELETE\"\r\n      });\r\n\r\n      setTodos(todos.filter(todo => todo.todo_id !== id));\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  const getTodos = async () => {\r\n    try {\r\n      const response = await fetch(\"/todos\");\r\n      const jsonData = await response.json();\r\n\r\n      setTodos(jsonData);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTodos();\r\n  }, []);\r\n\r\n  console.log(todos);\r\n\r\n  return (\r\n    <Fragment>\r\n      {\" \"}\r\n      <table className=\"table mt-5 text-center\">\r\n        <thead>\r\n          <tr>\r\n            <th>Description</th>\r\n            <th>Edit</th>\r\n            <th>Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {/*<tr>\r\n            <td>John</td>\r\n            <td>Doe</td>\r\n            <td>john@example.com</td>\r\n          </tr> */}\r\n          {todos.map(todo => (\r\n            <tr key={todo.todo_id}>\r\n              <td>{todo.description}</td>\r\n              <td>\r\n                <EditTodo todo={todo} />\r\n              </td>\r\n              <td>\r\n                <button\r\n                  className=\"btn btn-danger\"\r\n                  onClick={() => deleteTodo(todo.todo_id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ListTodos;\r\n","import React, { Fragment } from \"react\";\nimport \"./App.css\";\n\n//components\n\nimport InputTodo from \"./components/InputTodo\";\nimport ListTodo from \"./components/ListTodo\";\n\nfunction App() {\n  return (\n    <Fragment>\n      <div className=\"container\">\n        <InputTodo />\n        <ListTodo />\n      </div>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}