{"version":3,"sources":["components/InputTodo.js","components/EditTodo.js","components/ListTodo.js","App.js","index.js"],"names":["InputTodo","_useState","useState","_useState2","Object","slicedToArray","description","setDescription","onSubmitForm","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","e","body","wrap","_context","prev","next","preventDefault","fetch","method","headers","Content-Type","JSON","stringify","sent","window","location","t0","console","error","message","stop","_x","apply","this","arguments","react_default","a","createElement","react","className","onSubmit","type","value","onChange","target","EditTodo","todo","updateDescription","_ref2","EditTodo_regeneratorRuntime","concat","todo_id","class","data-toggle","data-target","id","onClick","data-dismiss","ListTodos","todos","setTodos","deleteTodo","ListTodo_regeneratorRuntime","filter","getTodos","_callee2","response","jsonData","_context2","json","useEffect","log","map","key","components_EditTodo","App","components_InputTodo","ListTodo","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.dfdecae8.chunk.js","sourcesContent":["import React, { Fragment, useState } from \"react\";\r\n\r\nconst InputTodo = () => {\r\n\r\n    const [description, setDescription] = useState(\"\");\r\n    const onSubmitForm = async(e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const body = { description };\r\n\r\n            // proxy is only in use in developmeny so it will be ignored in production\r\n            // if there is no http://localhost:5000 the by default it is going to use heroku domain\r\n            // this heroku app is just our server serving the build static content and also\r\n            // holding the restful api\r\n\r\n\r\n            const response = await fetch('/todos', {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify(body)\r\n            });\r\n            window.location = \"/\";\r\n        } catch (err) {\r\n            console.error(err.message)\r\n        }\r\n    }\r\n\r\n    return(\r\n        <Fragment>\r\n            <h1 className=\"text-center mt-5\">Pern Todo List</h1>\r\n            <form className=\"d-flex mt-5\" onSubmit={onSubmitForm}>\r\n                <input \r\n                type=\"text\" \r\n                className=\"form-control\" \r\n                value={description} \r\n                onChange={e => setDescription(e.target.value)} \r\n            />\r\n            <button className=\"btn btn-success\">Add</button>\r\n            </form>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default InputTodo;","import React, { Fragment, useState } from \"react\";\r\n\r\nconst EditTodo = ({ todo }) => {\r\n  const [description, setDescription] = useState(todo.description);\r\n\r\n  //   EDIT DESCRIPTION FUNCTION\r\n  const updateDescription = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const body = { description };\r\n      const response = await fetch(\r\n        `/todos/${todo.todo_id}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(body),\r\n        }\r\n      );\r\n\r\n      window.location = \"/\";\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n  return (\r\n    <Fragment>\r\n      <button\r\n        type=\"button\"\r\n        class=\"btn btn-warning\"\r\n        data-toggle=\"modal\"\r\n        data-target={`#id${todo.todo_id}`}\r\n      >\r\n        Edit\r\n      </button>\r\n\r\n      <div\r\n        class=\"modal\"\r\n        id={`id${todo.todo_id}`}\r\n        onClick={() => setDescription(todo.description)}\r\n      >\r\n        <div class=\"modal-dialog\">\r\n          <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n              <h4 class=\"modal-title\">Edit Todo</h4>\r\n              <button\r\n                type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                &times;\r\n              </button>\r\n            </div>\r\n\r\n            <div class=\"modal-body\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            <div class=\"modal-footer\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-warning\"\r\n                data-dismiss=\"modal\"\r\n                onClick={(e) => updateDescription(e)}\r\n              >\r\n                Edit\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-danger\"\r\n                data-dismiss=\"modal\"\r\n                onClick={() => setDescription(todo.description)}\r\n              >\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default EditTodo;\r\n","import React, { Fragment, useEffect, useState } from \"react\";\r\nimport EditTodo from \"./EditTodo\";\r\n\r\nconst ListTodos = () => {\r\n  const [todos, setTodos] = useState([]);\r\n\r\n  // DELETE TODO FUNCTION\r\n  const deleteTodo = async (id) => {\r\n      try {\r\n          const deleteTodo = await fetch(`/todos/${id}`, {\r\n              method: \"DELETE\"\r\n          });\r\n\r\n          setTodos(todos.filter(todo => todo.todo_id !== id));\r\n      } catch (err) {\r\n          console.error(err.message)\r\n      }\r\n  }\r\n\r\n  const getTodos = async () => {\r\n    try {\r\n      const response = await fetch(\"/todos\");\r\n      const jsonData = await response.json();\r\n\r\n      setTodos(jsonData);\r\n    } catch (err) {\r\n      console.error(err.message);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getTodos();\r\n  }, []);\r\n\r\n  console.log(todos);\r\n  return (\r\n    <Fragment>\r\n      {\" \"}\r\n      <table class=\"table mt-5 text-center\">\r\n        <thead>\r\n          <tr>\r\n            <th>Description</th>\r\n            <th>Edit</th>\r\n            <th>Delete</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {/* <tr>\r\n            <td>John</td>\r\n            <td>Doe</td>\r\n            <td>john@example.com</td>\r\n          </tr> */}\r\n          {todos.map((todo) => (\r\n            <tr key={todo.todo_id}>\r\n              <td>{todo.description}</td>\r\n              <td>\r\n                <EditTodo todo={todo} />\r\n              </td>\r\n              <td>\r\n                <button className=\"btn btn-danger\" onClick={() => deleteTodo(todo.todo_id)}>Delete</button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default ListTodos;\r\n","import React, { Fragment } from \"react\";\nimport './App.css';\n\n// components\nimport InputTodo from \"./components/InputTodo\";\nimport ListTodo from \"./components/ListTodo\";\n\nfunction App() {\n  return(\n    <Fragment>\n      <div className=\"container\">\n        <InputTodo />\n        <ListTodo />\n      </div>\n  </Fragment>\n  ) \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}